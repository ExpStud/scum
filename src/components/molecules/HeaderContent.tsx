import { FC, useEffect, useState } from "react";
import {
  Logo,
  MarqueeTextAnimation,
  Menu,
  MenuIcon,
  NavItem,
} from "@components";
import { AnimatePresence, motion, useCycle } from "framer-motion";
import { midExitAnimation } from "@constants";
import { useRouter } from "next/router";

const HeaderContent: FC = () => {
  const [open, cycleOpen] = useCycle(false, true);
  // const [border, setBorder] = useState<string>()

  const router = useRouter();
  const borderColor =
    router.pathname === "/maquina"
      ? "bg-scum-beige-600/10"
      : router.pathname === "/axolotl"
      ? "bg-scum-beige/10"
      : "bg-scum-black/10";

  return (
    <div className="relative w-full z-20">
      <MarqueeTextAnimation />
      <div className="flex items-center justify-between w-full px-4 pt-2 xl:pt-4 pb-3 xl:pr-0 3xl:pl-[280px]">
        <Logo className="z-[100]" />
        <div className="absolute outer-left-spacing top-10 hidden xl:flex flex-col">
          <NavItem href="/about">About</NavItem>
          <NavItem href="/slimes">Slimes</NavItem>
          <NavItem href="/maquina">Maquina Muertes</NavItem>
          <NavItem href="/family">Family</NavItem>
          <NavItem href="/axolotl">Axolotls</NavItem>
        </div>
        {/* scum text */}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="114"
          height="32"
          viewBox="0 0 114 32"
          fill="none"
          className="hidden xl:block outer-right-margin"
        >
          <path
            d="M98.2288 24.8701L92.0533 29.8667L86.4954 25.0386L88.8533 22.8491V9.03849L84.9796 5.50163L82.5094 6.96129V22.8491L84.9234 25.0386L79.5339 29.8667L73.0778 24.7579L75.2672 22.8491V7.97182L73.0778 5.55777L70.9444 6.90514L70.1584 5.78233L77.962 0.448975L82.0603 5.0525L89.4147 0.448975L95.0287 5.22093L102.72 0.448975L108.559 5.44549L110.411 3.98584L111.422 5.16479L108.615 7.46655V21.5578L111.253 24.1965L113.667 22.4V24.4772L105.359 29.8667L99.8007 25.0386L102.159 22.8491V9.03849L98.2849 5.50163L95.3095 7.29813V22.2877L98.2288 24.8701Z"
            className="fill-secondary"
          />
          <path
            d="M44.411 22.8493L46.1513 21.3897V8.25276C46.1513 7.85977 46.1513 7.46679 46.0952 7.0738C45.9829 6.68082 45.8706 6.28783 45.646 5.95099C45.4215 5.61415 45.0846 5.38958 44.6917 5.22116C44.3548 5.05274 43.9618 4.9966 43.5688 5.10888C43.4004 5.10888 43.232 5.16502 43.0636 5.22116C42.5583 5.38958 42.1653 5.67029 41.7723 5.95099L41.2109 5.16502L48.4531 0.50535C48.9583 0.729912 49.5198 0.954475 49.9689 1.29132C50.6987 1.85272 51.3162 2.47027 51.8215 3.2001C52.2145 3.81764 52.4952 4.43519 52.6636 5.16502C52.832 5.83871 52.8882 6.5124 52.8882 7.24222V20.716L56.3689 24.0844L59.0637 22.1195C59.0637 21.7826 59.0637 21.4458 59.0637 21.109V19.3686V7.85977L56.1443 5.2773L61.4216 0.393066L65.1268 3.64922L67.0918 2.30185L67.9339 3.36852L65.5198 5.22116V18.6388V20.9967C65.5198 21.8949 65.576 22.7932 65.969 23.5791C66.2497 24.0844 66.5865 24.5335 67.0356 24.8142L69.1128 23.13L70.1795 24.5335L63.4426 29.1371C62.5444 29.0248 61.6461 28.6318 60.9724 28.0143C60.0742 27.1721 59.5128 25.9932 59.2882 24.8142C59.2321 24.4213 59.1759 24.0844 59.1198 23.6914L52.0461 29.2493L44.411 22.8493Z"
            className="fill-secondary"
          />
          <path
            d="M33.7148 22.1194C34.7815 22.7931 36.0166 23.1299 37.2517 23.1299L40.5079 20.8282L41.2377 21.7826L32.985 29.0247H32.199L23.7218 23.2984V6.51231L35.2868 0L41.2377 4.77195L35.9043 8.81408L30.9078 4.65967V19.2562C31.5254 20.4913 32.5359 21.4457 33.7148 22.1194Z"
            className="fill-secondary"
          />
          <path
            d="M21.2026 0.392797C20.978 2.47 20.4728 4.54721 19.6307 6.39985C19.1815 7.35424 18.6763 8.25249 18.0026 9.09459C17.4973 9.71214 16.9359 10.2735 16.3184 10.835L21.1465 14.3718V22.849L10.0306 29.5859C9.46922 28.5754 8.57097 27.7333 7.50429 27.3403C6.94289 27.1157 6.38148 26.9473 5.76394 27.0035C5.20253 27.0035 4.58498 27.1719 4.13586 27.5087C3.79901 27.7333 3.51831 28.0701 3.34989 28.4631C3.23761 28.8561 3.23761 29.3052 3.34989 29.6982C3.46217 30.035 3.74287 30.3158 4.07972 30.4842L3.51831 32C2.17093 31.4386 1.04812 30.3719 0.486716 29.0245C-0.13083 27.6771 -0.13083 26.1613 0.318295 24.7578C0.935841 22.7368 2.45164 21.1087 3.96743 19.5929C4.41656 19.1438 4.86568 18.6946 5.31481 18.2455L1.10426 14.8771V7.01739L12.6692 0.280518C13.2868 1.17877 14.0727 1.9086 15.0271 2.35772C15.5885 2.58228 16.2061 2.7507 16.8236 2.7507C17.4973 2.7507 18.1149 2.52614 18.6201 2.1893C19.1815 1.74017 19.5184 1.12263 19.5745 0.392797L19.6307 0.448941C19.6307 0.448941 19.6307 0.448941 19.6307 0.392797H21.2026ZM10.7605 15.5508L8.79553 17.2911C7.50429 18.4139 6.2692 19.5367 5.09025 20.6596C4.52884 21.221 3.96743 21.7824 3.46217 22.3438C4.41656 21.614 5.59551 21.1648 6.83061 21.0526C8.0657 20.9964 9.30079 21.221 10.4236 21.7824C11.9394 22.5122 13.1745 23.8034 13.9043 25.3754V18.0771L10.7605 15.5508ZM10.6482 13.642L14.8026 10.049C15.4763 9.48758 16.15 8.87003 16.7675 8.14021C16.9359 7.91564 17.1043 7.69108 17.2728 7.46652C16.6552 7.74722 15.9815 7.91564 15.3078 8.02792C14.1289 8.19635 12.8938 8.02792 11.8271 7.52266C10.2552 6.84897 8.96395 5.5016 8.3464 3.92966V11.2279L10.6482 13.642Z"
            className="fill-secondary"
          />
        </svg>

        {/* tablet + mobile menu */}
        <MenuIcon
          animate={open}
          onClick={() => cycleOpen()}
          className="!z-[100] xl:hidden"
        />
        <Menu toggleMenu={() => cycleOpen()} open={open} />

        {/* background shadow */}
        <AnimatePresence>
          {open && (
            <motion.div
              className="z-0 fixed inset-0 bg-black/50 xl:hidden "
              onClick={() => cycleOpen()}
              {...midExitAnimation}
            />
          )}
        </AnimatePresence>
      </div>
      <div className={`xl:hidden h-[1px] ${borderColor} w-full`}></div>
    </div>
  );
};
export default HeaderContent;
